<!DOCTYPE html>
<html lang="en">
<!--
   Home.html
   
   Copyright 2017 Bjorn <Bjorn@BERTHA>
   something like: Pass me the group number, and I'll pass you the details.
   usernameAPI:password (hash64) and boom. we're laughing. and/or ssl on, send user&pass, then return some value or another to maintain login status.
-->

<head>
	<meta charset="utf-8" />
	<title>Your Groups</title>
	<meta name="HomePage" content="Information" />
	<link rel="stylesheet" href="Style1.css" />
	
	<script type="text/javascript">
	<!--
	function sayMyGroupName(){
		//next bit is still moderately similar to
		//Peter Leow, (2014)
		//you'll find his work in the yellow box.
		var queryString = decodeURIComponent(window.location.search);
		queryString = queryString.substring(1);
		var queries = queryString.split('groupName=');
		queries = queries[1].split('&');		
		document.getElementById('groupNameHere').innerHTML = queries[0];
	}
	
	//this will get the list of groups the user is subscribed to, and be a list of followable links.
	function fetchMyTeams(){
		var myArray = ["this is a team", "this is a different team", "third team here", "the womble's official Auz Team", "genereal purpose team stand-in", "the WHO", "the WHAT", "the WHERE"	];
		var myTable = "<table class='tablePrint' id='groupList'>";
		for(var a=0; a<myArray.length;a++){
			myTable +="<tr class='collapsedRow'><td class='searchReturn'><a class='buttonInterior' href='groupPage.html?groupName="+myArray[a]+"'>"+myArray[a]+"</a></td></tr>";
		}
		myTable+="</table>";
		document.getElementById('myGroups').innerHTML = myTable;
		
	}
	function showMyTeam(anArray){
		var myArray = anArray;

		var myTable= "<table class='tablePrint' id='currentGroup'>";
		for(var a=0; a<myArray.length; a++){
			myTable+="<tr class='collapsedRow'>";
			for(var b=0; b<myArray[a].length; b++){
				myTable+="<td class='searchReturn'>"+myArray[a][b]+"</td>";
			}
			myTable+="</tr>";
		}
		myTable+='</table><form id="joingroup"><input id="actbutton" class="submit" type="submit" value="Join Team"></form>';
		document.getElementById('MMsearch').innerHTML = myTable;
		}
	function windowLoad(){
		var time = new Date();
		document.getElementById('footTime').innerHTML = "It is now: " +time.getHours()+":"+time.getMinutes()+":"+time.getSeconds()+ "    Last updated on: 10/4/17" ;
		if (sessionStorage.getItem('longString') == null){
			document.getElementById('groupNameHere').innerHTML = "Go and Log In";
			document.getElementById('myGroups').innerHTML = 'Login to see more!';
			document.getElementById('MMsearch').innerHTML = 'Login to see more!';
		}
		else{
			document.getElementById('logoutLink').innerHTML = 'Logout';
			sayMyGroupName();
			fetchMyTeams();
			showMyTeam([["Player1 Fitzusername", "ADC", "ExampleEmail@fakesite.com"],["player2 mcSurname", "Mid", "nota@realemail.com"],["player3 vonItzaNeihm", "Jungler", "Itza@dummyemail.com"]]);
		}	
	}
	-->
	</script>
</head>
<body onload='windowLoad();'>


	<div id="menu">
		<table id="quickLinks">
			<tr>
				<td><a class='header' href="Home.html">Home</a>  </td>
				<td><a class='header' href="groupSearch.html">MatchMaker</a>  </td>
				<td><a class='header' href="about.html">About us</a>	</td>	
				<td id="login">
					<table id="subtable">
						<tr> <td><a class="sign" href="login.html">login</a></td></tr>
						<tr> <td> <a class="sign" href="newUser.html" >sign up</a></td></tr> 
					</table>
				</td>
			</tr>
		</table>
	</div>
		

	<HR>
	<h1 id='groupNameHere'><!-- Yes, this should be an empty header, I'm going to fill it on page load --></h1>
	<div id='MMsearch'><!-- Yes, this should be empty, It gets filled on search request -->
	</div>
	<div id='myGroups'>
		
	</div>
	<footer>
		<div>
			<a href='Logout.html' id='logoutLink'></a>
			Written by <a href='mailto:mfitzay@gmail.com'> Matthew Fitzpatrick</a>.<br>
			Student number/Email: <a href='mailto:21297239@student.uwa.edu.au'>21297239</a>
			<p id='footTime'></p>
		</div>
	</footer>
</body>

</html>
